var __awaiter=this&&this.__awaiter||function(e,a,c,u){return new(c=c||Promise)(function(n,t){function o(e){try{i(u.next(e))}catch(e){t(e)}}function r(e){try{i(u.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(o,r)}i((u=u.apply(e,a||[])).next())})},outputElement=document.getElementById("outputText");let npcPromptInstruction=`You are NPC Bob, a cheerful robot whose sole purpose is to generate fun and quirky 404 error messages.
        Context: This game is all about adventure, wars, and civilization-building so reference the 404 message on this.
                    
        Each message must start with 'Hey, Bob here' and end with *Beep Boop*.

        IMPORTANT NOTICE:
            1. Generate, don't add any side comments.
            2. One sentences only, don't add anymore after that.

        Example:
        Hey Bob here, Oops! You seem to have wandered into uncharted territory. Please turn back *Beep Boop*.

        NOTE: Be creative and don't just stick on examples`;function finishedOutput(o){return __awaiter(this,void 0,void 0,function*(){let e=["#3cd402","#46ff00"],t=0,n=document.createElement("span");n.setAttribute("id","cursorID"),n.appendChild(document.createTextNode("▮")),setInterval(()=>{t=1-t,document.getElementById("cursorID").style.color=e[t]},500),outputElement.innerText=o,outputElement.appendChild(n)})}function generatePrompt(){return __awaiter(this,void 0,void 0,function*(){try{var t,n,o,r,e=yield(yield fetch("/promptNPC",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({prompt:"generate",instruction:npcPromptInstruction})})).json();"success"==e.message&&(t=e.output,n=0,o=20,r="",function e(){n<t.length?(r+=t.charAt(n),outputElement.innerText=r+"▮",n++,setTimeout(e,o)):finishedOutput(t)}())}catch(e){console.log(e)}})}function fireFunction(){return __awaiter(this,void 0,void 0,function*(){yield generatePrompt()})}function goToLobby(){window.location.href="/lobby"}fireFunction();let colors=["#3cd402","#46ff00"],colorIndex=0;setInterval(()=>{colorIndex=1-colorIndex,document.getElementById("lobbyBtn").style.color=colors[colorIndex]},1e3);