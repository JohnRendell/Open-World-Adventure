var __awaiter=this&&this.__awaiter||function(e,s,r,c){return new(r=r||Promise)(function(n,t){function o(e){try{i(c.next(e))}catch(e){t(e)}}function a(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}i((c=c.apply(e,s||[])).next())})};function validateAccount(){return __awaiter(this,void 0,void 0,function*(){var e=document.getElementById("login_userID"),t=document.getElementById("login_passID"),n=document.getElementById("loginWarningTxt");try{var o,a,i=yield(yield fetch("/login",{method:"POST",headers:{Accept:"Application/json","Content-Type":"Application/json"},body:JSON.stringify({username:e.value,password:t.value})})).json();"success"===i.message?(document.getElementById("processingDiv").style.display="flex",o=yield setCookie(i.username,"loggedIn"),a=CryptoJS.AES.decrypt(localStorage.getItem("tempPlayerName"),"tempPlayerName").toString(CryptoJS.enc.Utf8),o.status&&a&&(socket.emit("redirectToBase",a),socket.emit("playerCount",1),window.location.href="/Game/Base/"+replaceSlashWithUnderscore(o.encryptUser),localStorage.removeItem("tempPlayerName"))):n.innerText=i.message}catch(e){console.log(e)}})}function validateCreateAccount(){return __awaiter(this,void 0,void 0,function*(){var e=document.getElementById("signin_userID"),t=document.getElementById("signin_passID"),n=document.getElementById("signin_confirmPassID"),o=document.getElementById("signinWarningTxt");try{var a,i,s=yield(yield fetch("/signin",{method:"POST",headers:{Accept:"Application/json","Content-Type":"Application/json"},body:JSON.stringify({username:e.value,confirmPass:n.value,password:t.value})})).json();"success"===s.message?(document.getElementById("processingDiv").style.display="flex",a=yield setCookie(s.username,"loggedIn"),i=CryptoJS.AES.decrypt(localStorage.getItem("tempPlayerName"),"tempPlayerName").toString(CryptoJS.enc.Utf8),a.status&&i&&(document.getElementById("processingDiv").style.display="none",socket.emit("redirectToBase",i),socket.emit("playerCount",1),window.location.href="/Game/Base/"+replaceSlashWithUnderscore(a.encryptUser),localStorage.removeItem("tempPlayerName"))):o.innerText=s.message}catch(e){console.log(e)}})}socket.emit("logoutPlayer");